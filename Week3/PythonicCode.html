
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pythonic code &#8212; UC Irvine Math 9 Fall 2022 - Python portion</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Matplotlib" href="Matplotlib.html" />
    <link rel="prev" title="Week 3" href="Week3-Intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/penguins-rev.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">UC Irvine Math 9 Fall 2022 - Python portion</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    UC Irvine, Math 9, Fall 2022, Python portion
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week1/Week1-Intro.html">
   Week 1
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week1/PythonDataTypes.html">
     Python data types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week1/AlternatingList.html">
     Alternating list
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week2/Week2-Intro.html">
   Week 2
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week2/NumPy.html">
     NumPy
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="Week3-Intro.html">
   Week 3
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Pythonic code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Matplotlib.html">
     Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="NewtonsMethod.html">
     Newton’s Method
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week4/Week4-Intro.html">
   Week 4
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/Pillow.html">
     Pillow image processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/ObjectOriented.html">
     Brief introduction to object-oriented programming
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/ChristopherDavisUCI/UCI-Math-9-F22/main?urlpath=tree/Week3/PythonicCode.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/ChristopherDavisUCI/UCI-Math-9-F22"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/Week3/PythonicCode.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-comprehension">
   List comprehension
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#f-strings">
   f-strings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lambda-functions">
   lambda functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-f-strings-and-a-lambda-function-to-format-a-numpy-array">
   Using f-strings and a lambda function to format a NumPy array
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pythonic code</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-comprehension">
   List comprehension
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#f-strings">
   f-strings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lambda-functions">
   lambda functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-f-strings-and-a-lambda-function-to-format-a-numpy-array">
   Using f-strings and a lambda function to format a NumPy array
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="pythonic-code">
<h1>Pythonic code<a class="headerlink" href="#pythonic-code" title="Permalink to this headline">#</a></h1>
<p>There are four sections in the notebook.  The first three sections introduce list comprehension, f-strings, and lambda functions.  Comfort with these topics is one sign of an experienced Python programmer, and code that makes use of these sorts of Python-specific techniques is said to be <em>Pythonic</em>.</p>
<p>The fourth section in this notebook is a fun (and more advanced) example of using lambda functions and f-strings to change the way NumPy formats arrays.</p>
<section id="list-comprehension">
<span id="list-comp"></span><h2>List comprehension<a class="headerlink" href="#list-comprehension" title="Permalink to this headline">#</a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pttbHdy4RGs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>List comprehension has already been mentioned a few times, because some lists we were making were most naturally built using list comprehension.  (Once you’re comfortable with list comprehension, it feels very strange to make a list using a for-loop if list comprehension would also work.)</p>
<p>In this section, we will go more systematically through examples of list comprehension.  If any of these examples don’t make sense, I recommend trying to make the same list using for loops, and then comparing your for loop code with our list comprehension code.  I think you will find in each case that there is a lot of overlap between the for loop approach and the list comprehension approach.</p>
<ul class="simple">
<li><p>Make a length 8 list of all 6s using list comprehension.</p></li>
</ul>
<p>Here is the general structure of a list comprehension.  Square brackets, in the form</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">A</span> <span class="k">for</span> <span class="n">B</span> <span class="ow">in</span> <span class="n">C</span><span class="p">]</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><p>A is what you want to go in the list;</p></li>
<li><p>B is a variable name;</p></li>
<li><p>C is the object you are iterating over.</p></li>
</ul>
<p>In this particular case,</p>
<ul class="simple">
<li><p>A is the number 6.</p></li>
<li><p>B is <code class="docutils literal notranslate"><span class="pre">i</span></code>. (Any variable name would work and in this case it never gets used.  Underscore <code class="docutils literal notranslate"><span class="pre">_</span></code> would be another common choice.)</p></li>
<li><p>C is <code class="docutils literal notranslate"><span class="pre">range(8)</span></code>.  In this case, the only important thing is that it has length 8.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">6</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[6, 6, 6, 6, 6, 6, 6, 6]
</pre></div>
</div>
</div>
</div>
<p>Here is a more representative example, where different elements appear in the final list (as opposed to the previous list, where all the elements were equal to 6).</p>
<ul class="simple">
<li><p>Let <code class="docutils literal notranslate"><span class="pre">mylist</span> <span class="pre">=</span> <span class="pre">[3,1,-2,10,-5,3,6,2,8]</span></code>.  Square each element in <code class="docutils literal notranslate"><span class="pre">mylist</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>In this case, the element that should go in the list is <code class="docutils literal notranslate"><span class="pre">x**2</span></code>, where <code class="docutils literal notranslate"><span class="pre">x</span></code> runs through the elements in <code class="docutils literal notranslate"><span class="pre">mylist</span></code>.  (We could just as well as used any other variable name.  I often use <code class="docutils literal notranslate"><span class="pre">i</span></code> if it’s an index and use <code class="docutils literal notranslate"><span class="pre">x</span></code> if it’s an element in a list.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[9, 1, 4, 100, 25, 9, 36, 4, 64]
</pre></div>
</div>
</div>
</div>
<p>Here is an example where we do not use every element from <code class="docutils literal notranslate"><span class="pre">mylist</span></code>.  In this case, we restrict the elements we take from <code class="docutils literal notranslate"><span class="pre">mylist</span></code> using <code class="docutils literal notranslate"><span class="pre">if</span></code>.  In this case we use <code class="docutils literal notranslate"><span class="pre">x%2</span> <span class="pre">==</span> <span class="pre">0</span></code> to ask if the integer <code class="docutils literal notranslate"><span class="pre">x</span></code> is even.</p>
<ul class="simple">
<li><p>Get the sublist of <code class="docutils literal notranslate"><span class="pre">mylist</span></code> containing only the even numbers.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mylist</span> <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="k">2</span> == 0]
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-2, 10, 6, 2, 8]
</pre></div>
</div>
</div>
</div>
<p>The next example is similar, but we will use an <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code> condition instead of just using <code class="docutils literal notranslate"><span class="pre">if</span></code>.  There is more difference than that, however.  In this case, we have to move the <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code> condition to the front of the list comprehension.  You should memorize these examples.</p>
<ul class="simple">
<li><p>Replace each negative number in <code class="docutils literal notranslate"><span class="pre">mylist</span></code> with 0.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[3, 1, 0, 10, 0, 3, 6, 2, 8]
</pre></div>
</div>
</div>
</div>
<p>Here is another way to phrase it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[3, 1, 0, 10, 0, 3, 6, 2, 8]
</pre></div>
</div>
</div>
</div>
<p>The following is maybe easier than it looks; it is very similar to our constant 6 list from the beginning.  In this case, the constant portion is the list <code class="docutils literal notranslate"><span class="pre">[0,1,2]</span></code>.</p>
<ul class="simple">
<li><p>Make the length-8 list of lists <code class="docutils literal notranslate"><span class="pre">[[0,1,2],</span> <span class="pre">[0,1,2],</span> <span class="pre">...,</span> <span class="pre">[0,1,2]]</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0, 1, 2],
 [0, 1, 2],
 [0, 1, 2],
 [0, 1, 2],
 [0, 1, 2],
 [0, 1, 2],
 [0, 1, 2],
 [0, 1, 2]]
</pre></div>
</div>
</div>
</div>
<p>This really is length-8, not for example length-24.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Make the length-24 list <code class="docutils literal notranslate"><span class="pre">[0,1,2,0,1,2,...,0,1,2]</span></code>.</p></li>
</ul>
<p>I think this is the hardest example, so let’s first see the for-loop version.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newlist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">newlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newlist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2]
</pre></div>
</div>
</div>
</div>
<p>Notice how similar the list comprehension version is.  (For example, the order of the two <code class="docutils literal notranslate"><span class="pre">for</span></code> portions is the same.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2]
</pre></div>
</div>
</div>
</div>
<p>Here is an example where we work with a list of strings instead of a list of numbers.</p>
<ul class="simple">
<li><p>Capitalize each word in the catalogue description of Math 9.</p></li>
</ul>
<blockquote>
<div><p>Introduction to computers and programming using Matlab and Python. Representation of numbers and precision, input/output, functions, custom data types, testing/debugging, reading exceptions, plotting data, numerical differentiation, basics of algorithms. Analysis of random processes using computer simulations.</p>
</div></blockquote>
<p>If your string has line breaks, you should use triple apostrophes to surround it, like in the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;Introduction to computers and programming using Matlab and Python.</span>
<span class="s1">Representation of numbers and precision, input/output, functions, custom data types,</span>
<span class="s1">testing/debugging, reading exceptions, plotting data, numerical differentiation,</span>
<span class="s1">basics of algorithms. Analysis of random processes using computer simulations.&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>str
</pre></div>
</div>
</div>
</div>
<p>If we try to directly iterate over the string, we will be iterating over the letters.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;I&#39;,
 &#39;n&#39;,
 &#39;t&#39;,
 &#39;r&#39;,
 &#39;o&#39;,
 &#39;d&#39;,
 &#39;u&#39;,
 &#39;c&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39; &#39;,
 &#39;t&#39;,
 &#39;o&#39;,
 &#39; &#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;p&#39;,
 &#39;u&#39;,
 &#39;t&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;d&#39;,
 &#39; &#39;,
 &#39;p&#39;,
 &#39;r&#39;,
 &#39;o&#39;,
 &#39;g&#39;,
 &#39;r&#39;,
 &#39;a&#39;,
 &#39;m&#39;,
 &#39;m&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;u&#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;M&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;l&#39;,
 &#39;a&#39;,
 &#39;b&#39;,
 &#39; &#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;d&#39;,
 &#39; &#39;,
 &#39;P&#39;,
 &#39;y&#39;,
 &#39;t&#39;,
 &#39;h&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;.&#39;,
 &#39;\n&#39;,
 &#39;R&#39;,
 &#39;e&#39;,
 &#39;p&#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;s&#39;,
 &#39;e&#39;,
 &#39;n&#39;,
 &#39;t&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39; &#39;,
 &#39;o&#39;,
 &#39;f&#39;,
 &#39; &#39;,
 &#39;n&#39;,
 &#39;u&#39;,
 &#39;m&#39;,
 &#39;b&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;d&#39;,
 &#39; &#39;,
 &#39;p&#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;c&#39;,
 &#39;i&#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;p&#39;,
 &#39;u&#39;,
 &#39;t&#39;,
 &#39;/&#39;,
 &#39;o&#39;,
 &#39;u&#39;,
 &#39;t&#39;,
 &#39;p&#39;,
 &#39;u&#39;,
 &#39;t&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;f&#39;,
 &#39;u&#39;,
 &#39;n&#39;,
 &#39;c&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;s&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;c&#39;,
 &#39;u&#39;,
 &#39;s&#39;,
 &#39;t&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39; &#39;,
 &#39;d&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;a&#39;,
 &#39; &#39;,
 &#39;t&#39;,
 &#39;y&#39;,
 &#39;p&#39;,
 &#39;e&#39;,
 &#39;s&#39;,
 &#39;,&#39;,
 &#39;\n&#39;,
 &#39;t&#39;,
 &#39;e&#39;,
 &#39;s&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39;/&#39;,
 &#39;d&#39;,
 &#39;e&#39;,
 &#39;b&#39;,
 &#39;u&#39;,
 &#39;g&#39;,
 &#39;g&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;a&#39;,
 &#39;d&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;e&#39;,
 &#39;x&#39;,
 &#39;c&#39;,
 &#39;e&#39;,
 &#39;p&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;s&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;p&#39;,
 &#39;l&#39;,
 &#39;o&#39;,
 &#39;t&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;d&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;a&#39;,
 &#39;,&#39;,
 &#39; &#39;,
 &#39;n&#39;,
 &#39;u&#39;,
 &#39;m&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;i&#39;,
 &#39;c&#39;,
 &#39;a&#39;,
 &#39;l&#39;,
 &#39; &#39;,
 &#39;d&#39;,
 &#39;i&#39;,
 &#39;f&#39;,
 &#39;f&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39;e&#39;,
 &#39;n&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;,&#39;,
 &#39;\n&#39;,
 &#39;b&#39;,
 &#39;a&#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;c&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;o&#39;,
 &#39;f&#39;,
 &#39; &#39;,
 &#39;a&#39;,
 &#39;l&#39;,
 &#39;g&#39;,
 &#39;o&#39;,
 &#39;r&#39;,
 &#39;i&#39;,
 &#39;t&#39;,
 &#39;h&#39;,
 &#39;m&#39;,
 &#39;s&#39;,
 &#39;.&#39;,
 &#39; &#39;,
 &#39;A&#39;,
 &#39;n&#39;,
 &#39;a&#39;,
 &#39;l&#39;,
 &#39;y&#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;o&#39;,
 &#39;f&#39;,
 &#39; &#39;,
 &#39;r&#39;,
 &#39;a&#39;,
 &#39;n&#39;,
 &#39;d&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39; &#39;,
 &#39;p&#39;,
 &#39;r&#39;,
 &#39;o&#39;,
 &#39;c&#39;,
 &#39;e&#39;,
 &#39;s&#39;,
 &#39;s&#39;,
 &#39;e&#39;,
 &#39;s&#39;,
 &#39; &#39;,
 &#39;u&#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;n&#39;,
 &#39;g&#39;,
 &#39; &#39;,
 &#39;c&#39;,
 &#39;o&#39;,
 &#39;m&#39;,
 &#39;p&#39;,
 &#39;u&#39;,
 &#39;t&#39;,
 &#39;e&#39;,
 &#39;r&#39;,
 &#39; &#39;,
 &#39;s&#39;,
 &#39;i&#39;,
 &#39;m&#39;,
 &#39;u&#39;,
 &#39;l&#39;,
 &#39;a&#39;,
 &#39;t&#39;,
 &#39;i&#39;,
 &#39;o&#39;,
 &#39;n&#39;,
 &#39;s&#39;,
 &#39;.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Here is an easy way to turn a string into a list of words.  (It separates the string at all white-space.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordlist</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordlist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;computers&#39;
</pre></div>
</div>
</div>
</div>
<p>We eventually want to capitalize every word.  Strings in Python have a <code class="docutils literal notranslate"><span class="pre">capitalize</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordlist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Computers&#39;
</pre></div>
</div>
</div>
</div>
<p>The following will make a list that has each word capitalized.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">caplist</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">wordlist</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We used the following method once before to concatenate a list of strings together into one long string.  That’s not quite what we want to do in this case, because we want spaces between the words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">caplist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;IntroductionToComputersAndProgrammingUsingMatlabAndPython.RepresentationOfNumbersAndPrecision,Input/output,Functions,CustomDataTypes,Testing/debugging,ReadingExceptions,PlottingData,NumericalDifferentiation,BasicsOfAlgorithms.AnalysisOfRandomProcessesUsingComputerSimulations.&#39;
</pre></div>
</div>
</div>
</div>
<p>It’s an easy change to get what we want.  Instead of starting with an empty string (length 0), we start with a length-1 string that contains a single space.  Then Python puts that space between all the words in our list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">caplist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Introduction To Computers And Programming Using Matlab And Python. Representation Of Numbers And Precision, Input/output, Functions, Custom Data Types, Testing/debugging, Reading Exceptions, Plotting Data, Numerical Differentiation, Basics Of Algorithms. Analysis Of Random Processes Using Computer Simulations.&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="f-strings">
<h2>f-strings<a class="headerlink" href="#f-strings" title="Permalink to this headline">#</a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/m-WiKLCIEkc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>We often want to combine a fixed string with the value of some variable.  I believe the most elegant way to do this is to use f-strings, which are a relatively recent addition to Python.  (As of Summer 2022, I am using Python 3.10, and f-strings were added in Python 3.6.)  Because f-strings are relatively new, you will often see older methods of doing the same thing, so it’s important to be aware of the alternatives.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Chris&quot;</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
</div>
<p>Of course the following will not substitute the values for <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>.  (How would Python even know which <code class="docutils literal notranslate"><span class="pre">n</span></code>s to substitute?)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, name, nice to meet you n times&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, name, nice to meet you n times
</pre></div>
</div>
</div>
</div>
<p>Here is one method that at least gets everything printed.  (Notice the extra space after “Chris”.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;, nice to meet you&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="s2">&quot;times&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, Chris , nice to meet you 10 times
</pre></div>
</div>
</div>
</div>
<p>In very simple cases, using <code class="docutils literal notranslate"><span class="pre">+</span></code> to concatenate two strings is often the simplest method.  (But make sure the things you’re combining really are strings.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;, nice to meet you&quot;</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="s2">&quot;times&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [5],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;, nice to meet you&quot;</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="s2">&quot;times&quot;</span><span class="p">)</span>

<span class="ne">TypeError</span>: can only concatenate str (not &quot;int&quot;) to str
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">+</span></code> version does work if we make sure to convert <code class="docutils literal notranslate"><span class="pre">n</span></code> to a string, using <code class="docutils literal notranslate"><span class="pre">str(n)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;, nice to meet you &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; times&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, Chris, nice to meet you 10 times
</pre></div>
</div>
</div>
</div>
<p>In more advanced cases, you will often see the <code class="docutils literal notranslate"><span class="pre">format</span></code> method being used; I think this was the preferred way before f-strings showed up.  Empty curly brackets <code class="docutils literal notranslate"><span class="pre">{}</span></code> are used where a variable value should be substituted.  The least nice part of the <code class="docutils literal notranslate"><span class="pre">format</span></code> approach is that you need to keep track of the order of the variables that you want to include.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Hello, </span><span class="si">{}</span><span class="s2">, nice to meet you </span><span class="si">{}</span><span class="s2"> times&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Hello, Chris, nice to meet you 10 times&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is finally the f-string approach.  Again curly brackets <code class="docutils literal notranslate"><span class="pre">{}</span></code> are used to indicate the portions Python should treat as an expression rather than as a string.  The f-string approach is much more readable than the earlier approaches.  Notice how we put an <code class="docutils literal notranslate"><span class="pre">f</span></code> before the quotation marks.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">, nice to meet you </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> times&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Hello, Chris, nice to meet you 10 times&#39;
</pre></div>
</div>
</div>
</div>
<p>There are <a class="reference external" href="https://docs.python.org/3.4/library/string.html#format-specification-mini-language">lots</a> of formatting options that can be used with f-strings.  (Don’t bother trying to memorize these.  Even reading that linked documentation I find very difficult.  Instead you should memorize the above example of using f-strings, but the specific formatting parameters don’t need to be memorized.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="o">**</span><span class="mi">20</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3486784401
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3486784401&#39;
</pre></div>
</div>
</div>
</div>
<p>If we would rather use the exponential notation (as we have seen in some NumPy outputs), we can use <code class="docutils literal notranslate"><span class="pre">:e</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">e</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3.486784e+09&#39;
</pre></div>
</div>
</div>
</div>
<p>If you want to see 4 places after the decimal point, you can use <code class="docutils literal notranslate"><span class="pre">:.4f</span></code>.  The <code class="docutils literal notranslate"><span class="pre">f</span></code> is saying to treat this number as a floating point number.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3486784401.0000&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="mi">1</span><span class="o">/</span><span class="n">m</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;0.0000&#39;
</pre></div>
</div>
</div>
</div>
<p>Here we specify 15 decimal places.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="mi">1</span><span class="o">/</span><span class="n">m</span><span class="si">:</span><span class="s2">.15f</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;0.000000000286797&#39;
</pre></div>
</div>
</div>
</div>
<p>Notice that by default, Python displays <code class="docutils literal notranslate"><span class="pre">1/m</span></code> in exponential notation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">/</span><span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.8679719907924413e-10
</pre></div>
</div>
</div>
</div>
<p>Here are some more formatting examples.  The following <code class="docutils literal notranslate"><span class="pre">:b</span></code> says to display the integer in binary.  For example, <span class="math notranslate nohighlight">\(17 = 1 \cdot 2^4 + 1 \cdot 2^0\)</span>, which is <span class="math notranslate nohighlight">\(10001\)</span> when written in binary (also called “base 2”).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="mi">17</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="si">:</span><span class="s2">b</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;10001&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is the above number <span class="math notranslate nohighlight">\(3^{20}\)</span> written in binary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">b</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;11001111110101000001101110010001&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="lambda-functions">
<h2>lambda functions<a class="headerlink" href="#lambda-functions" title="Permalink to this headline">#</a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/x5SDQIVWfOk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In this section we will introduce lambda functions, which are a concise way to define functions in Python.  They are very similar to function handles or anonymous functions in Matlab.</p>
<ul class="simple">
<li><p>Write a function <code class="docutils literal notranslate"><span class="pre">cap</span></code> that takes as input a string <code class="docutils literal notranslate"><span class="pre">s</span></code> and as output returns the same string <code class="docutils literal notranslate"><span class="pre">s</span></code> capitalized.</p></li>
</ul>
<p>Our “usual” way of defining a function like <code class="docutils literal notranslate"><span class="pre">cap</span></code> uses the following syntax, but this syntax is overkill for such a simple function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cap</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cap</span><span class="p">(</span><span class="s2">&quot;hello there&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Hello there&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is the lambda function approach.  We tell Python that we are about to define a function by using <code class="docutils literal notranslate"><span class="pre">lambda</span></code>.  The part that comes between <code class="docutils literal notranslate"><span class="pre">lambda</span></code> and the colon <code class="docutils literal notranslate"><span class="pre">:</span></code> specifies the variables for our function.  The part that comes after the colon is what the function will return.  The whole piece <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">s:</span> <span class="pre">s.capitalize()</span></code> is defining the function, and we are saving that function with the name <code class="docutils literal notranslate"><span class="pre">cap</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cap</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cap</span><span class="p">(</span><span class="s2">&quot;hello there&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Hello there&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is an example that needs two inputs.</p>
<ul class="simple">
<li><p>Write a function <code class="docutils literal notranslate"><span class="pre">plus</span></code> that takes two inputs and adds them together.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plus</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plus</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p>Even though we had numbers in mind when we wrote this function, it will also work with any inputs for which <code class="docutils literal notranslate"><span class="pre">x+y</span></code> makes sense in Python, like strings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plus</span><span class="p">(</span><span class="s2">&quot;hi&quot;</span><span class="p">,</span> <span class="s2">&quot;there&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;hithere&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is a more interesting example and a more realistic instance where we would want to use a lambda function.</p>
<ul class="simple">
<li><p>Make a 20-by-3 NumPy array of random letters, then concatenate each row of three letters into a single length-3 string using <code class="docutils literal notranslate"><span class="pre">np.apply_along_axis</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Just as an aside, here is a way to get the 26 lower-case and 26 upper-case letters in English.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">string</span>
</pre></div>
</div>
</div>
</div>
<p>If we just want to see what is defined by this module <code class="docutils literal notranslate"><span class="pre">string</span></code>, we can use the <code class="docutils literal notranslate"><span class="pre">dir</span></code> function.  In the case of this module <code class="docutils literal notranslate"><span class="pre">string</span></code>, there aren’t too many.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Formatter&#39;,
 &#39;Template&#39;,
 &#39;_ChainMap&#39;,
 &#39;__all__&#39;,
 &#39;__builtins__&#39;,
 &#39;__cached__&#39;,
 &#39;__doc__&#39;,
 &#39;__file__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__package__&#39;,
 &#39;__spec__&#39;,
 &#39;_re&#39;,
 &#39;_sentinel_dict&#39;,
 &#39;_string&#39;,
 &#39;ascii_letters&#39;,
 &#39;ascii_lowercase&#39;,
 &#39;ascii_uppercase&#39;,
 &#39;capwords&#39;,
 &#39;digits&#39;,
 &#39;hexdigits&#39;,
 &#39;octdigits&#39;,
 &#39;printable&#39;,
 &#39;punctuation&#39;,
 &#39;whitespace&#39;]
</pre></div>
</div>
</div>
</div>
<p>On the other hand, if we check <code class="docutils literal notranslate"><span class="pre">dir(np)</span></code>, we will see many more options.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">np</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ALLOW_THREADS&#39;,
 &#39;AxisError&#39;,
 &#39;BUFSIZE&#39;,
 &#39;CLIP&#39;,
 &#39;ComplexWarning&#39;,
 &#39;DataSource&#39;,
 &#39;ERR_CALL&#39;,
 &#39;ERR_DEFAULT&#39;,
 &#39;ERR_IGNORE&#39;,
 &#39;ERR_LOG&#39;,
 &#39;ERR_PRINT&#39;,
 &#39;ERR_RAISE&#39;,
 &#39;ERR_WARN&#39;,
 &#39;FLOATING_POINT_SUPPORT&#39;,
 &#39;FPE_DIVIDEBYZERO&#39;,
 &#39;FPE_INVALID&#39;,
 &#39;FPE_OVERFLOW&#39;,
 &#39;FPE_UNDERFLOW&#39;,
 &#39;False_&#39;,
 &#39;Inf&#39;,
 &#39;Infinity&#39;,
 &#39;MAXDIMS&#39;,
 &#39;MAY_SHARE_BOUNDS&#39;,
 &#39;MAY_SHARE_EXACT&#39;,
 &#39;ModuleDeprecationWarning&#39;,
 &#39;NAN&#39;,
 &#39;NINF&#39;,
 &#39;NZERO&#39;,
 &#39;NaN&#39;,
 &#39;PINF&#39;,
 &#39;PZERO&#39;,
 &#39;RAISE&#39;,
 &#39;RankWarning&#39;,
 &#39;SHIFT_DIVIDEBYZERO&#39;,
 &#39;SHIFT_INVALID&#39;,
 &#39;SHIFT_OVERFLOW&#39;,
 &#39;SHIFT_UNDERFLOW&#39;,
 &#39;ScalarType&#39;,
 &#39;Tester&#39;,
 &#39;TooHardError&#39;,
 &#39;True_&#39;,
 &#39;UFUNC_BUFSIZE_DEFAULT&#39;,
 &#39;UFUNC_PYVALS_NAME&#39;,
 &#39;VisibleDeprecationWarning&#39;,
 &#39;WRAP&#39;,
 &#39;_CopyMode&#39;,
 &#39;_NoValue&#39;,
 &#39;_UFUNC_API&#39;,
 &#39;__NUMPY_SETUP__&#39;,
 &#39;__all__&#39;,
 &#39;__builtins__&#39;,
 &#39;__cached__&#39;,
 &#39;__config__&#39;,
 &#39;__deprecated_attrs__&#39;,
 &#39;__dir__&#39;,
 &#39;__doc__&#39;,
 &#39;__expired_functions__&#39;,
 &#39;__file__&#39;,
 &#39;__getattr__&#39;,
 &#39;__git_version__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__package__&#39;,
 &#39;__path__&#39;,
 &#39;__spec__&#39;,
 &#39;__version__&#39;,
 &#39;_add_newdoc_ufunc&#39;,
 &#39;_distributor_init&#39;,
 &#39;_financial_names&#39;,
 &#39;_globals&#39;,
 &#39;_mat&#39;,
 &#39;_pyinstaller_hooks_dir&#39;,
 &#39;_pytesttester&#39;,
 &#39;_version&#39;,
 &#39;abs&#39;,
 &#39;absolute&#39;,
 &#39;add&#39;,
 &#39;add_docstring&#39;,
 &#39;add_newdoc&#39;,
 &#39;add_newdoc_ufunc&#39;,
 &#39;all&#39;,
 &#39;allclose&#39;,
 &#39;alltrue&#39;,
 &#39;amax&#39;,
 &#39;amin&#39;,
 &#39;angle&#39;,
 &#39;any&#39;,
 &#39;append&#39;,
 &#39;apply_along_axis&#39;,
 &#39;apply_over_axes&#39;,
 &#39;arange&#39;,
 &#39;arccos&#39;,
 &#39;arccosh&#39;,
 &#39;arcsin&#39;,
 &#39;arcsinh&#39;,
 &#39;arctan&#39;,
 &#39;arctan2&#39;,
 &#39;arctanh&#39;,
 &#39;argmax&#39;,
 &#39;argmin&#39;,
 &#39;argpartition&#39;,
 &#39;argsort&#39;,
 &#39;argwhere&#39;,
 &#39;around&#39;,
 &#39;array&#39;,
 &#39;array2string&#39;,
 &#39;array_equal&#39;,
 &#39;array_equiv&#39;,
 &#39;array_repr&#39;,
 &#39;array_split&#39;,
 &#39;array_str&#39;,
 &#39;asanyarray&#39;,
 &#39;asarray&#39;,
 &#39;asarray_chkfinite&#39;,
 &#39;ascontiguousarray&#39;,
 &#39;asfarray&#39;,
 &#39;asfortranarray&#39;,
 &#39;asmatrix&#39;,
 &#39;atleast_1d&#39;,
 &#39;atleast_2d&#39;,
 &#39;atleast_3d&#39;,
 &#39;average&#39;,
 &#39;bartlett&#39;,
 &#39;base_repr&#39;,
 &#39;binary_repr&#39;,
 &#39;bincount&#39;,
 &#39;bitwise_and&#39;,
 &#39;bitwise_not&#39;,
 &#39;bitwise_or&#39;,
 &#39;bitwise_xor&#39;,
 &#39;blackman&#39;,
 &#39;block&#39;,
 &#39;bmat&#39;,
 &#39;bool8&#39;,
 &#39;bool_&#39;,
 &#39;broadcast&#39;,
 &#39;broadcast_arrays&#39;,
 &#39;broadcast_shapes&#39;,
 &#39;broadcast_to&#39;,
 &#39;busday_count&#39;,
 &#39;busday_offset&#39;,
 &#39;busdaycalendar&#39;,
 &#39;byte&#39;,
 &#39;byte_bounds&#39;,
 &#39;bytes0&#39;,
 &#39;bytes_&#39;,
 &#39;c_&#39;,
 &#39;can_cast&#39;,
 &#39;cast&#39;,
 &#39;cbrt&#39;,
 &#39;cdouble&#39;,
 &#39;ceil&#39;,
 &#39;cfloat&#39;,
 &#39;char&#39;,
 &#39;character&#39;,
 &#39;chararray&#39;,
 &#39;choose&#39;,
 &#39;clip&#39;,
 &#39;clongdouble&#39;,
 &#39;clongfloat&#39;,
 &#39;column_stack&#39;,
 &#39;common_type&#39;,
 &#39;compare_chararrays&#39;,
 &#39;compat&#39;,
 &#39;complex128&#39;,
 &#39;complex256&#39;,
 &#39;complex64&#39;,
 &#39;complex_&#39;,
 &#39;complexfloating&#39;,
 &#39;compress&#39;,
 &#39;concatenate&#39;,
 &#39;conj&#39;,
 &#39;conjugate&#39;,
 &#39;convolve&#39;,
 &#39;copy&#39;,
 &#39;copysign&#39;,
 &#39;copyto&#39;,
 &#39;core&#39;,
 &#39;corrcoef&#39;,
 &#39;correlate&#39;,
 &#39;cos&#39;,
 &#39;cosh&#39;,
 &#39;count_nonzero&#39;,
 &#39;cov&#39;,
 &#39;cross&#39;,
 &#39;csingle&#39;,
 &#39;ctypeslib&#39;,
 &#39;cumprod&#39;,
 &#39;cumproduct&#39;,
 &#39;cumsum&#39;,
 &#39;datetime64&#39;,
 &#39;datetime_as_string&#39;,
 &#39;datetime_data&#39;,
 &#39;deg2rad&#39;,
 &#39;degrees&#39;,
 &#39;delete&#39;,
 &#39;deprecate&#39;,
 &#39;deprecate_with_doc&#39;,
 &#39;diag&#39;,
 &#39;diag_indices&#39;,
 &#39;diag_indices_from&#39;,
 &#39;diagflat&#39;,
 &#39;diagonal&#39;,
 &#39;diff&#39;,
 &#39;digitize&#39;,
 &#39;disp&#39;,
 &#39;divide&#39;,
 &#39;divmod&#39;,
 &#39;dot&#39;,
 &#39;double&#39;,
 &#39;dsplit&#39;,
 &#39;dstack&#39;,
 &#39;dtype&#39;,
 &#39;e&#39;,
 &#39;ediff1d&#39;,
 &#39;einsum&#39;,
 &#39;einsum_path&#39;,
 &#39;emath&#39;,
 &#39;empty&#39;,
 &#39;empty_like&#39;,
 &#39;equal&#39;,
 &#39;error_message&#39;,
 &#39;errstate&#39;,
 &#39;euler_gamma&#39;,
 &#39;exp&#39;,
 &#39;exp2&#39;,
 &#39;expand_dims&#39;,
 &#39;expm1&#39;,
 &#39;extract&#39;,
 &#39;eye&#39;,
 &#39;fabs&#39;,
 &#39;fastCopyAndTranspose&#39;,
 &#39;fft&#39;,
 &#39;fill_diagonal&#39;,
 &#39;find_common_type&#39;,
 &#39;finfo&#39;,
 &#39;fix&#39;,
 &#39;flatiter&#39;,
 &#39;flatnonzero&#39;,
 &#39;flexible&#39;,
 &#39;flip&#39;,
 &#39;fliplr&#39;,
 &#39;flipud&#39;,
 &#39;float128&#39;,
 &#39;float16&#39;,
 &#39;float32&#39;,
 &#39;float64&#39;,
 &#39;float_&#39;,
 &#39;float_power&#39;,
 &#39;floating&#39;,
 &#39;floor&#39;,
 &#39;floor_divide&#39;,
 &#39;fmax&#39;,
 &#39;fmin&#39;,
 &#39;fmod&#39;,
 &#39;format_float_positional&#39;,
 &#39;format_float_scientific&#39;,
 &#39;format_parser&#39;,
 &#39;frexp&#39;,
 &#39;from_dlpack&#39;,
 &#39;frombuffer&#39;,
 &#39;fromfile&#39;,
 &#39;fromfunction&#39;,
 &#39;fromiter&#39;,
 &#39;frompyfunc&#39;,
 &#39;fromregex&#39;,
 &#39;fromstring&#39;,
 &#39;full&#39;,
 &#39;full_like&#39;,
 &#39;gcd&#39;,
 &#39;generic&#39;,
 &#39;genfromtxt&#39;,
 &#39;geomspace&#39;,
 &#39;get_array_wrap&#39;,
 &#39;get_include&#39;,
 &#39;get_printoptions&#39;,
 &#39;getbufsize&#39;,
 &#39;geterr&#39;,
 &#39;geterrcall&#39;,
 &#39;geterrobj&#39;,
 &#39;gradient&#39;,
 &#39;greater&#39;,
 &#39;greater_equal&#39;,
 &#39;half&#39;,
 &#39;hamming&#39;,
 &#39;hanning&#39;,
 &#39;heaviside&#39;,
 &#39;histogram&#39;,
 &#39;histogram2d&#39;,
 &#39;histogram_bin_edges&#39;,
 &#39;histogramdd&#39;,
 &#39;hsplit&#39;,
 &#39;hstack&#39;,
 &#39;hypot&#39;,
 &#39;i0&#39;,
 &#39;identity&#39;,
 &#39;iinfo&#39;,
 &#39;imag&#39;,
 &#39;in1d&#39;,
 &#39;index_exp&#39;,
 &#39;indices&#39;,
 &#39;inexact&#39;,
 &#39;inf&#39;,
 &#39;info&#39;,
 &#39;infty&#39;,
 &#39;inner&#39;,
 &#39;insert&#39;,
 &#39;int0&#39;,
 &#39;int16&#39;,
 &#39;int32&#39;,
 &#39;int64&#39;,
 &#39;int8&#39;,
 &#39;int_&#39;,
 &#39;intc&#39;,
 &#39;integer&#39;,
 &#39;interp&#39;,
 &#39;intersect1d&#39;,
 &#39;intp&#39;,
 &#39;invert&#39;,
 &#39;is_busday&#39;,
 &#39;isclose&#39;,
 &#39;iscomplex&#39;,
 &#39;iscomplexobj&#39;,
 &#39;isfinite&#39;,
 &#39;isfortran&#39;,
 &#39;isin&#39;,
 &#39;isinf&#39;,
 &#39;isnan&#39;,
 &#39;isnat&#39;,
 &#39;isneginf&#39;,
 &#39;isposinf&#39;,
 &#39;isreal&#39;,
 &#39;isrealobj&#39;,
 &#39;isscalar&#39;,
 &#39;issctype&#39;,
 &#39;issubclass_&#39;,
 &#39;issubdtype&#39;,
 &#39;issubsctype&#39;,
 &#39;iterable&#39;,
 &#39;ix_&#39;,
 &#39;kaiser&#39;,
 &#39;kron&#39;,
 &#39;lcm&#39;,
 &#39;ldexp&#39;,
 &#39;left_shift&#39;,
 &#39;less&#39;,
 &#39;less_equal&#39;,
 &#39;lexsort&#39;,
 &#39;lib&#39;,
 &#39;linalg&#39;,
 &#39;linspace&#39;,
 &#39;little_endian&#39;,
 &#39;load&#39;,
 &#39;loadtxt&#39;,
 &#39;log&#39;,
 &#39;log10&#39;,
 &#39;log1p&#39;,
 &#39;log2&#39;,
 &#39;logaddexp&#39;,
 &#39;logaddexp2&#39;,
 &#39;logical_and&#39;,
 &#39;logical_not&#39;,
 &#39;logical_or&#39;,
 &#39;logical_xor&#39;,
 &#39;logspace&#39;,
 &#39;longcomplex&#39;,
 &#39;longdouble&#39;,
 &#39;longfloat&#39;,
 &#39;longlong&#39;,
 &#39;lookfor&#39;,
 &#39;ma&#39;,
 &#39;mask_indices&#39;,
 &#39;mat&#39;,
 &#39;math&#39;,
 &#39;matmul&#39;,
 &#39;matrix&#39;,
 &#39;matrixlib&#39;,
 &#39;max&#39;,
 &#39;maximum&#39;,
 &#39;maximum_sctype&#39;,
 &#39;may_share_memory&#39;,
 &#39;mean&#39;,
 &#39;median&#39;,
 &#39;memmap&#39;,
 &#39;meshgrid&#39;,
 &#39;mgrid&#39;,
 &#39;min&#39;,
 &#39;min_scalar_type&#39;,
 &#39;minimum&#39;,
 &#39;mintypecode&#39;,
 &#39;mod&#39;,
 &#39;modf&#39;,
 &#39;moveaxis&#39;,
 &#39;msort&#39;,
 &#39;multiply&#39;,
 &#39;nan&#39;,
 &#39;nan_to_num&#39;,
 &#39;nanargmax&#39;,
 &#39;nanargmin&#39;,
 &#39;nancumprod&#39;,
 &#39;nancumsum&#39;,
 &#39;nanmax&#39;,
 &#39;nanmean&#39;,
 &#39;nanmedian&#39;,
 &#39;nanmin&#39;,
 &#39;nanpercentile&#39;,
 &#39;nanprod&#39;,
 &#39;nanquantile&#39;,
 &#39;nanstd&#39;,
 &#39;nansum&#39;,
 &#39;nanvar&#39;,
 &#39;nbytes&#39;,
 &#39;ndarray&#39;,
 &#39;ndenumerate&#39;,
 &#39;ndim&#39;,
 &#39;ndindex&#39;,
 &#39;nditer&#39;,
 &#39;negative&#39;,
 &#39;nested_iters&#39;,
 &#39;newaxis&#39;,
 &#39;nextafter&#39;,
 &#39;nonzero&#39;,
 &#39;not_equal&#39;,
 &#39;numarray&#39;,
 &#39;number&#39;,
 &#39;obj2sctype&#39;,
 &#39;object0&#39;,
 &#39;object_&#39;,
 &#39;ogrid&#39;,
 &#39;oldnumeric&#39;,
 &#39;ones&#39;,
 &#39;ones_like&#39;,
 &#39;os&#39;,
 &#39;outer&#39;,
 &#39;packbits&#39;,
 &#39;pad&#39;,
 &#39;partition&#39;,
 &#39;percentile&#39;,
 &#39;pi&#39;,
 &#39;piecewise&#39;,
 &#39;place&#39;,
 &#39;poly&#39;,
 &#39;poly1d&#39;,
 &#39;polyadd&#39;,
 &#39;polyder&#39;,
 &#39;polydiv&#39;,
 &#39;polyfit&#39;,
 &#39;polyint&#39;,
 &#39;polymul&#39;,
 &#39;polynomial&#39;,
 &#39;polysub&#39;,
 &#39;polyval&#39;,
 &#39;positive&#39;,
 &#39;power&#39;,
 &#39;printoptions&#39;,
 &#39;prod&#39;,
 &#39;product&#39;,
 &#39;promote_types&#39;,
 &#39;ptp&#39;,
 &#39;put&#39;,
 &#39;put_along_axis&#39;,
 &#39;putmask&#39;,
 &#39;quantile&#39;,
 &#39;r_&#39;,
 &#39;rad2deg&#39;,
 &#39;radians&#39;,
 &#39;random&#39;,
 &#39;ravel&#39;,
 &#39;ravel_multi_index&#39;,
 &#39;real&#39;,
 &#39;real_if_close&#39;,
 &#39;rec&#39;,
 &#39;recarray&#39;,
 &#39;recfromcsv&#39;,
 &#39;recfromtxt&#39;,
 &#39;reciprocal&#39;,
 &#39;record&#39;,
 &#39;remainder&#39;,
 &#39;repeat&#39;,
 &#39;require&#39;,
 &#39;reshape&#39;,
 &#39;resize&#39;,
 &#39;result_type&#39;,
 &#39;right_shift&#39;,
 &#39;rint&#39;,
 &#39;roll&#39;,
 &#39;rollaxis&#39;,
 &#39;roots&#39;,
 &#39;rot90&#39;,
 &#39;round&#39;,
 &#39;round_&#39;,
 &#39;row_stack&#39;,
 &#39;s_&#39;,
 &#39;safe_eval&#39;,
 &#39;save&#39;,
 &#39;savetxt&#39;,
 &#39;savez&#39;,
 &#39;savez_compressed&#39;,
 &#39;sctype2char&#39;,
 &#39;sctypeDict&#39;,
 &#39;sctypes&#39;,
 &#39;searchsorted&#39;,
 &#39;select&#39;,
 &#39;set_numeric_ops&#39;,
 &#39;set_printoptions&#39;,
 &#39;set_string_function&#39;,
 &#39;setbufsize&#39;,
 &#39;setdiff1d&#39;,
 &#39;seterr&#39;,
 &#39;seterrcall&#39;,
 &#39;seterrobj&#39;,
 &#39;setxor1d&#39;,
 &#39;shape&#39;,
 &#39;shares_memory&#39;,
 &#39;short&#39;,
 &#39;show_config&#39;,
 &#39;sign&#39;,
 &#39;signbit&#39;,
 &#39;signedinteger&#39;,
 &#39;sin&#39;,
 &#39;sinc&#39;,
 &#39;single&#39;,
 &#39;singlecomplex&#39;,
 &#39;sinh&#39;,
 &#39;size&#39;,
 &#39;sometrue&#39;,
 &#39;sort&#39;,
 &#39;sort_complex&#39;,
 &#39;source&#39;,
 &#39;spacing&#39;,
 &#39;split&#39;,
 &#39;sqrt&#39;,
 &#39;square&#39;,
 &#39;squeeze&#39;,
 &#39;stack&#39;,
 &#39;std&#39;,
 &#39;str0&#39;,
 &#39;str_&#39;,
 &#39;string_&#39;,
 &#39;subtract&#39;,
 &#39;sum&#39;,
 &#39;swapaxes&#39;,
 &#39;sys&#39;,
 &#39;take&#39;,
 &#39;take_along_axis&#39;,
 &#39;tan&#39;,
 &#39;tanh&#39;,
 &#39;tensordot&#39;,
 &#39;test&#39;,
 &#39;testing&#39;,
 &#39;tile&#39;,
 &#39;timedelta64&#39;,
 &#39;trace&#39;,
 &#39;tracemalloc_domain&#39;,
 &#39;transpose&#39;,
 &#39;trapz&#39;,
 &#39;tri&#39;,
 &#39;tril&#39;,
 &#39;tril_indices&#39;,
 &#39;tril_indices_from&#39;,
 &#39;trim_zeros&#39;,
 &#39;triu&#39;,
 &#39;triu_indices&#39;,
 &#39;triu_indices_from&#39;,
 &#39;true_divide&#39;,
 &#39;trunc&#39;,
 &#39;typecodes&#39;,
 &#39;typename&#39;,
 &#39;ubyte&#39;,
 &#39;ufunc&#39;,
 &#39;uint&#39;,
 &#39;uint0&#39;,
 &#39;uint16&#39;,
 &#39;uint32&#39;,
 &#39;uint64&#39;,
 &#39;uint8&#39;,
 &#39;uintc&#39;,
 &#39;uintp&#39;,
 &#39;ulonglong&#39;,
 &#39;unicode_&#39;,
 &#39;union1d&#39;,
 &#39;unique&#39;,
 &#39;unpackbits&#39;,
 &#39;unravel_index&#39;,
 &#39;unsignedinteger&#39;,
 &#39;unwrap&#39;,
 &#39;use_hugepage&#39;,
 &#39;ushort&#39;,
 &#39;vander&#39;,
 &#39;var&#39;,
 &#39;vdot&#39;,
 &#39;vectorize&#39;,
 &#39;version&#39;,
 &#39;void&#39;,
 &#39;void0&#39;,
 &#39;vsplit&#39;,
 &#39;vstack&#39;,
 &#39;w&#39;,
 &#39;warnings&#39;,
 &#39;where&#39;,
 &#39;who&#39;,
 &#39;zeros&#39;,
 &#39;zeros_like&#39;]
</pre></div>
</div>
</div>
</div>
<p>By scanning through <code class="docutils literal notranslate"><span class="pre">dir(string)</span></code>, you could imagine guessing and checking for the attribute we want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;
</pre></div>
</div>
</div>
</div>
<p>Here is our first attempt to get random letters.  We get the following error.  It is telling us that the first input argument should be a sequence or an integer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">File _generator.pyx:712,</span> in <span class="ni">numpy.random._generator.Generator.choice</span><span class="nt">()</span>

<span class="ne">TypeError</span>: &#39;str&#39; object cannot be interpreted as an integer

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="nn">Input In [13],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="nn">File _generator.pyx:714,</span> in <span class="ni">numpy.random._generator.Generator.choice</span><span class="nt">()</span>

<span class="ne">ValueError</span>: a must be a sequence or an integer, not &lt;class &#39;str&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>So we convert <code class="docutils literal notranslate"><span class="pre">string.ascii_letters</span></code> into a list, and that list version can be used as the argument to <code class="docutils literal notranslate"><span class="pre">rng.choice</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&#39;K&#39;, &#39;R&#39;, &#39;J&#39;],
       [&#39;p&#39;, &#39;x&#39;, &#39;F&#39;],
       [&#39;F&#39;, &#39;H&#39;, &#39;u&#39;],
       [&#39;U&#39;, &#39;v&#39;, &#39;J&#39;],
       [&#39;P&#39;, &#39;T&#39;, &#39;b&#39;],
       [&#39;s&#39;, &#39;E&#39;, &#39;h&#39;],
       [&#39;I&#39;, &#39;F&#39;, &#39;e&#39;],
       [&#39;a&#39;, &#39;v&#39;, &#39;I&#39;],
       [&#39;w&#39;, &#39;M&#39;, &#39;l&#39;],
       [&#39;J&#39;, &#39;B&#39;, &#39;Y&#39;],
       [&#39;W&#39;, &#39;q&#39;, &#39;U&#39;],
       [&#39;W&#39;, &#39;r&#39;, &#39;A&#39;],
       [&#39;I&#39;, &#39;L&#39;, &#39;t&#39;],
       [&#39;j&#39;, &#39;H&#39;, &#39;W&#39;],
       [&#39;m&#39;, &#39;i&#39;, &#39;n&#39;],
       [&#39;y&#39;, &#39;A&#39;, &#39;R&#39;],
       [&#39;E&#39;, &#39;Z&#39;, &#39;j&#39;],
       [&#39;i&#39;, &#39;X&#39;, &#39;Y&#39;],
       [&#39;X&#39;, &#39;H&#39;, &#39;c&#39;],
       [&#39;S&#39;, &#39;u&#39;, &#39;T&#39;]], dtype=&#39;&lt;U1&#39;)
</pre></div>
</div>
</div>
</div>
<p>Our goal is to take each of these 3-letter rows, and concatenate the letters together.  For example, we want to take <code class="docutils literal notranslate"><span class="pre">arr[3]</span></code> and get the string <code class="docutils literal notranslate"><span class="pre">&quot;UvJ&quot;</span></code>.  (I know this is a random example.  Most basic examples can be done more easily without lambda functions; this is an example where the best solution I see uses a lambda function.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">row</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;U&#39;, &#39;v&#39;, &#39;J&#39;], dtype=&#39;&lt;U1&#39;)
</pre></div>
</div>
</div>
</div>
<p>Here is an example of what we want to do for the specific value <code class="docutils literal notranslate"><span class="pre">row</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;UvJ&#39;
</pre></div>
</div>
</div>
</div>
<p>That is the function we want to apply to each row, so we will make a short version of it using a lambda function and pass that lambda function as an argument to <code class="docutils literal notranslate"><span class="pre">np.apply_along_axis</span></code>.  The first argument to <code class="docutils literal notranslate"><span class="pre">np.apply_along_axis</span></code> is supposed to be a function, the second argument is supposed to specify the axis, and the third argument specifies the array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">arr</span><span class="o">=</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;KRJ&#39;, &#39;pxF&#39;, &#39;FHu&#39;, &#39;UvJ&#39;, &#39;PTb&#39;, &#39;sEh&#39;, &#39;IFe&#39;, &#39;avI&#39;, &#39;wMl&#39;,
       &#39;JBY&#39;, &#39;WqU&#39;, &#39;WrA&#39;, &#39;ILt&#39;, &#39;jHW&#39;, &#39;min&#39;, &#39;yAR&#39;, &#39;EZj&#39;, &#39;iXY&#39;,
       &#39;XHc&#39;, &#39;SuT&#39;], dtype=&#39;&lt;U3&#39;)
</pre></div>
</div>
</div>
</div>
<p>If we were going to be using this function <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">row:</span> <span class="pre">''.join(row)</span></code> repeatedly, it would be better to name the function, like in the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">join_letters</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If we had <code class="docutils literal notranslate"><span class="pre">join_letters</span></code> defined that way, then we could replace our code above with <code class="docutils literal notranslate"><span class="pre">np.apply_along_axis(lambda</span> <span class="pre">row:</span> <span class="pre">''.join(row),</span> <span class="pre">axis=1,</span> <span class="pre">arr=arr)</span></code>.  (There are still cases where you will want to use the <code class="docutils literal notranslate"><span class="pre">def</span></code> method to define a function, but when it is a short one-line function, it is almost always better to use a lambda function instead.)</p>
<p>Now let’s see another example where lambda functions are useful.</p>
<ul class="simple">
<li><p>Let <code class="docutils literal notranslate"><span class="pre">tuplist</span></code> be the following list of tuples.  Sort this list so that the numbers are increasing.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">[(&quot;A&quot;,</span> <span class="pre">40),</span> <span class="pre">(&quot;B&quot;,</span> <span class="pre">60),</span> <span class="pre">(&quot;E&quot;,</span> <span class="pre">30),</span> <span class="pre">(&quot;C&quot;,</span> <span class="pre">20),</span> <span class="pre">(&quot;D&quot;,</span> <span class="pre">45)]</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tuplist</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">45</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<p>We are going to sort this length-5 list using Python’s <code class="docutils literal notranslate"><span class="pre">sorted</span></code> function.  Notice that <code class="docutils literal notranslate"><span class="pre">sorted</span></code> accepts a <code class="docutils literal notranslate"><span class="pre">key</span></code> keyword argument.  The argument passed as <code class="docutils literal notranslate"><span class="pre">key</span></code> should be a function, and then that function will be applied before the sorting is done.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="nb">sorted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on built-in function sorted in module builtins:

sorted(iterable, /, *, key=None, reverse=False)
    Return a new list containing all items from the iterable in ascending order.
    
    A custom key function can be supplied to customize the sort order, and the
    reverse flag can be set to request the result in descending order.
</pre></div>
</div>
</div>
</div>
<p>In our case, we want to sort by the numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>60
</pre></div>
</div>
</div>
</div>
<p>The following is the right idea, but we need to use the <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=</span></code> portion of the keyword argument.  (That is not usually the case for most keyword arguments, but that is required here.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [26],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="ne">TypeError</span>: sorted expected 1 argument, got 2
</pre></div>
</div>
</div>
</div>
<p>Notice how this sorts the tuples <code class="docutils literal notranslate"><span class="pre">tup</span></code> according to the number <code class="docutils literal notranslate"><span class="pre">tup[1]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;C&#39;, 20), (&#39;E&#39;, 30), (&#39;A&#39;, 40), (&#39;D&#39;, 45), (&#39;B&#39;, 60)]
</pre></div>
</div>
</div>
</div>
<p>There is one other keyword argument that we can see in the documentation above.  If we want the values to be decreasing instead of increasing, we should specify <code class="docutils literal notranslate"><span class="pre">reverse</span> <span class="pre">=</span> <span class="pre">True</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;B&#39;, 60), (&#39;D&#39;, 45), (&#39;A&#39;, 40), (&#39;E&#39;, 30), (&#39;C&#39;, 20)]
</pre></div>
</div>
</div>
</div>
<p>As one last example, Python is equally happy sorting by letters rather than numbers.  Here we sort using <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">tup:</span> <span class="pre">tup[0]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">tup</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;A&#39;, 40), (&#39;B&#39;, 60), (&#39;C&#39;, 20), (&#39;D&#39;, 45), (&#39;E&#39;, 30)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-f-strings-and-a-lambda-function-to-format-a-numpy-array">
<h2>Using f-strings and a lambda function to format a NumPy array<a class="headerlink" href="#using-f-strings-and-a-lambda-function-to-format-a-numpy-array" title="Permalink to this headline">#</a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3owu2YlM-XI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>The goal in this section is to apply some of the earlier concepts to a more advanced (and more specialized) example.  We show how to change the way NumPy formats the numbers it displays.  That particular application is not the important part.  The reason we’re using this application is because it involves f-strings and lambda functions (as well as NumPy arrays, dictionaries, data types, …).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<p>Notice that when we create our random number generator in the next cell, we specify a <code class="docutils literal notranslate"><span class="pre">seed</span></code> argument.  This is so the numbers that are produced are reproducible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3.45584192e-01,  8.21618144e-01,  3.30437076e-01, -1.30315723e+00,
        9.05355867e-01,  4.46374572e-01, -5.36953235e-01,  5.81118104e-01,
        3.64572396e-01,  2.94132497e-01,  2.84222413e-02,  5.46712987e-01,
       -7.36454087e-01, -1.62909948e-01, -4.82119313e-01,  5.98846213e-01,
        3.97221075e-02, -2.92456751e-01, -7.81908462e-01, -2.57192241e-01,
        8.14218052e-03, -2.75602905e-01,  1.29406381e+00,  1.00672432e+00,
       -2.71116248e+00, -1.88901325e+00, -1.74772092e-01, -4.22190412e-01,
        2.13642997e-01,  2.17321931e-01,  2.11783876e+00, -1.11202076e+00,
       -3.77605007e-01,  2.04277161e+00,  6.46702996e-01,  6.63063372e-01,
       -5.14006372e-01, -1.64807517e+00,  1.67464744e-01,  1.09014088e-01,
       -1.22735205e+00, -6.83226662e-01, -7.20436797e-02, -9.44751623e-01,
       -9.82699679e-02,  9.54830275e-02,  3.55862371e-02, -5.06291658e-01,
        5.93748072e-01,  8.91166954e-01,  3.20848305e-01, -8.18230227e-01,
        7.31652284e-01, -5.01440018e-01,  8.79160618e-01, -1.07178742e+00,
        9.14467203e-01, -2.00634546e-02, -1.24874889e+00, -3.13899472e-01,
        5.41022788e-02,  2.72791339e-01, -9.82188125e-01, -1.10737305e+00,
        1.99584533e-01, -4.66749617e-01,  2.35505612e-01,  7.59519522e-01,
       -1.64878737e+00,  2.54388117e-01,  1.22464697e+00, -2.97526844e-01,
       -8.10814583e-01,  7.52243827e-01,  2.53446516e-01,  8.95883071e-01,
       -3.45215710e-01, -1.48181827e+00, -1.10010765e-01, -4.45828153e-01,
        7.75323822e-01,  1.93632848e-01, -1.63084923e+00, -1.19516308e+00,
        8.83789037e-01,  6.79765017e-01, -6.40243366e-01, -1.04879657e-03,
        4.45573554e-01,  4.68404336e-01,  8.76242196e-01,  2.56485627e-01,
       -9.48283390e-02, -2.58848065e-01,  1.05574280e+00, -2.25085428e+00,
       -1.38655325e-01,  3.30001040e-02, -1.42534896e+00,  3.32813613e-01])
</pre></div>
</div>
</div>
</div>
<p>Here we try the same thing with a different seed.  Notice how the previous numbers were displayed using scientific notation, whereas the following numbers are displayed as plain decimals.  That is why we are using <code class="docutils literal notranslate"><span class="pre">seed=1</span></code> in this video, because I wanted an example where we get scientific notation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 0.12573022, -0.13210486,  0.64042265,  0.10490012, -0.53566937,
        0.36159505,  1.30400005,  0.94708096, -0.70373524, -1.26542147,
       -0.62327446,  0.04132598, -2.32503077, -0.21879166, -1.24591095,
       -0.73226735, -0.54425898, -0.31630016,  0.41163054,  1.04251337,
       -0.12853466,  1.36646347, -0.66519467,  0.35151007,  0.90347018,
        0.0940123 , -0.74349925, -0.92172538, -0.45772583,  0.22019512,
       -1.00961818, -0.20917557, -0.15922501,  0.54084558,  0.21465912,
        0.35537271, -0.65382861, -0.12961363,  0.78397547,  1.49343115,
       -1.25906553,  1.51392377,  1.34587542,  0.7813114 ,  0.26445563,
       -0.31392281,  1.45802068,  1.96025832,  1.80163487,  1.31510376,
        0.35738041, -1.20831863, -0.00445413,  0.65647494, -1.28836146,
        0.39512206,  0.42986369,  0.69604272, -1.18411797, -0.66170257,
       -0.43643525, -1.16980191,  1.73936788, -0.49591073,  0.32896963,
       -0.25857255,  1.58347288,  1.32036099,  0.63335262, -2.20350988,
        0.05202897,  0.68368619,  1.00396158, -0.61790704,  1.82201136,
       -1.32043097, -0.66152802,  0.93504999,  0.04905461,  2.00239258,
        0.18851919, -0.63319409, -0.37756351, -1.09114612, -1.27768017,
        0.63041149,  0.58116581,  1.29455882, -0.75460579,  1.68910745,
       -0.28738771,  1.57440828, -0.43278585, -0.73548329,  0.24978537,
        1.03145308,  0.16100958, -0.58552882, -1.34121971, -1.40152021])
</pre></div>
</div>
</div>
</div>
<p>Notice how the following numbers are exactly the same as before when we also used <code class="docutils literal notranslate"><span class="pre">seed=1</span></code>.</p>
<p>In this video, we will see one option (probably not the easiest option) to prevent NumPy from using scientific notation.  For this particular array, that will be helpful because it will be easier to get a quick overview of the contents of the array when the numbers are displayed as decimals.  (There are probably other contexts where the scientific notation formatting is more convenient.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3.45584192e-01,  8.21618144e-01,  3.30437076e-01, -1.30315723e+00,
        9.05355867e-01,  4.46374572e-01, -5.36953235e-01,  5.81118104e-01,
        3.64572396e-01,  2.94132497e-01,  2.84222413e-02,  5.46712987e-01,
       -7.36454087e-01, -1.62909948e-01, -4.82119313e-01,  5.98846213e-01,
        3.97221075e-02, -2.92456751e-01, -7.81908462e-01, -2.57192241e-01,
        8.14218052e-03, -2.75602905e-01,  1.29406381e+00,  1.00672432e+00,
       -2.71116248e+00, -1.88901325e+00, -1.74772092e-01, -4.22190412e-01,
        2.13642997e-01,  2.17321931e-01,  2.11783876e+00, -1.11202076e+00,
       -3.77605007e-01,  2.04277161e+00,  6.46702996e-01,  6.63063372e-01,
       -5.14006372e-01, -1.64807517e+00,  1.67464744e-01,  1.09014088e-01,
       -1.22735205e+00, -6.83226662e-01, -7.20436797e-02, -9.44751623e-01,
       -9.82699679e-02,  9.54830275e-02,  3.55862371e-02, -5.06291658e-01,
        5.93748072e-01,  8.91166954e-01,  3.20848305e-01, -8.18230227e-01,
        7.31652284e-01, -5.01440018e-01,  8.79160618e-01, -1.07178742e+00,
        9.14467203e-01, -2.00634546e-02, -1.24874889e+00, -3.13899472e-01,
        5.41022788e-02,  2.72791339e-01, -9.82188125e-01, -1.10737305e+00,
        1.99584533e-01, -4.66749617e-01,  2.35505612e-01,  7.59519522e-01,
       -1.64878737e+00,  2.54388117e-01,  1.22464697e+00, -2.97526844e-01,
       -8.10814583e-01,  7.52243827e-01,  2.53446516e-01,  8.95883071e-01,
       -3.45215710e-01, -1.48181827e+00, -1.10010765e-01, -4.45828153e-01,
        7.75323822e-01,  1.93632848e-01, -1.63084923e+00, -1.19516308e+00,
        8.83789037e-01,  6.79765017e-01, -6.40243366e-01, -1.04879657e-03,
        4.45573554e-01,  4.68404336e-01,  8.76242196e-01,  2.56485627e-01,
       -9.48283390e-02, -2.58848065e-01,  1.05574280e+00, -2.25085428e+00,
       -1.38655325e-01,  3.30001040e-02, -1.42534896e+00,  3.32813613e-01])
</pre></div>
</div>
</div>
</div>
<p>The approach we follow in this video is going to use NumPy’s <code class="docutils literal notranslate"><span class="pre">set_printoptions</span></code> function.  This accepts many different arguments (notice how much longer this documentation is than the documentation for <code class="docutils literal notranslate"><span class="pre">sorted</span></code> above).  The argument we are going to use is the <code class="docutils literal notranslate"><span class="pre">formatter</span></code> argument.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">formatter</span></code> argument is supposed to be a</p>
<blockquote>
<div><p>dict of callables … the keys should indicate the type(s)…  Callables should return a string…</p>
</div></blockquote>
<p>In particular, the argument is supposed to be a dictionary.  The keys should be data types (or rather, strings representing the data types), and the values in the dictionary are supposed to be “callables”, which we can think of as functions, that return a string.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function set_printoptions in module numpy:

set_printoptions(precision=None, threshold=None, edgeitems=None, linewidth=None, suppress=None, nanstr=None, infstr=None, formatter=None, sign=None, floatmode=None, *, legacy=None)
    Set printing options.
    
    These options determine the way floating point numbers, arrays and
    other NumPy objects are displayed.
    
    Parameters
    ----------
    precision : int or None, optional
        Number of digits of precision for floating point output (default 8).
        May be None if `floatmode` is not `fixed`, to print as many digits as
        necessary to uniquely specify the value.
    threshold : int, optional
        Total number of array elements which trigger summarization
        rather than full repr (default 1000).
        To always use the full repr without summarization, pass `sys.maxsize`.
    edgeitems : int, optional
        Number of array items in summary at beginning and end of
        each dimension (default 3).
    linewidth : int, optional
        The number of characters per line for the purpose of inserting
        line breaks (default 75).
    suppress : bool, optional
        If True, always print floating point numbers using fixed point
        notation, in which case numbers equal to zero in the current precision
        will print as zero.  If False, then scientific notation is used when
        absolute value of the smallest number is &lt; 1e-4 or the ratio of the
        maximum absolute value to the minimum is &gt; 1e3. The default is False.
    nanstr : str, optional
        String representation of floating point not-a-number (default nan).
    infstr : str, optional
        String representation of floating point infinity (default inf).
    sign : string, either &#39;-&#39;, &#39;+&#39;, or &#39; &#39;, optional
        Controls printing of the sign of floating-point types. If &#39;+&#39;, always
        print the sign of positive values. If &#39; &#39;, always prints a space
        (whitespace character) in the sign position of positive values.  If
        &#39;-&#39;, omit the sign character of positive values. (default &#39;-&#39;)
    formatter : dict of callables, optional
        If not None, the keys should indicate the type(s) that the respective
        formatting function applies to.  Callables should return a string.
        Types that are not specified (by their corresponding keys) are handled
        by the default formatters.  Individual types for which a formatter
        can be set are:
    
        - &#39;bool&#39;
        - &#39;int&#39;
        - &#39;timedelta&#39; : a `numpy.timedelta64`
        - &#39;datetime&#39; : a `numpy.datetime64`
        - &#39;float&#39;
        - &#39;longfloat&#39; : 128-bit floats
        - &#39;complexfloat&#39;
        - &#39;longcomplexfloat&#39; : composed of two 128-bit floats
        - &#39;numpystr&#39; : types `numpy.string_` and `numpy.unicode_`
        - &#39;object&#39; : `np.object_` arrays
    
        Other keys that can be used to set a group of types at once are:
    
        - &#39;all&#39; : sets all types
        - &#39;int_kind&#39; : sets &#39;int&#39;
        - &#39;float_kind&#39; : sets &#39;float&#39; and &#39;longfloat&#39;
        - &#39;complex_kind&#39; : sets &#39;complexfloat&#39; and &#39;longcomplexfloat&#39;
        - &#39;str_kind&#39; : sets &#39;numpystr&#39;
    floatmode : str, optional
        Controls the interpretation of the `precision` option for
        floating-point types. Can take the following values
        (default maxprec_equal):
    
        * &#39;fixed&#39;: Always print exactly `precision` fractional digits,
                even if this would print more or fewer digits than
                necessary to specify the value uniquely.
        * &#39;unique&#39;: Print the minimum number of fractional digits necessary
                to represent each value uniquely. Different elements may
                have a different number of digits. The value of the
                `precision` option is ignored.
        * &#39;maxprec&#39;: Print at most `precision` fractional digits, but if
                an element can be uniquely represented with fewer digits
                only print it with that many.
        * &#39;maxprec_equal&#39;: Print at most `precision` fractional digits,
                but if every element in the array can be uniquely
                represented with an equal number of fewer digits, use that
                many digits for all elements.
    legacy : string or `False`, optional
        If set to the string `&#39;1.13&#39;` enables 1.13 legacy printing mode. This
        approximates numpy 1.13 print output by including a space in the sign
        position of floats and different behavior for 0d arrays. This also
        enables 1.21 legacy printing mode (described below).
    
        If set to the string `&#39;1.21&#39;` enables 1.21 legacy printing mode. This
        approximates numpy 1.21 print output of complex structured dtypes
        by not inserting spaces after commas that separate fields and after
        colons.
    
        If set to `False`, disables legacy mode.
    
        Unrecognized strings will be ignored with a warning for forward
        compatibility.
    
        .. versionadded:: 1.14.0
        .. versionchanged:: 1.22.0
    
    See Also
    --------
    get_printoptions, printoptions, set_string_function, array2string
    
    Notes
    -----
    `formatter` is always reset with a call to `set_printoptions`.
    
    Use `printoptions` as a context manager to set the values temporarily.
    
    Examples
    --------
    Floating point precision can be set:
    
    &gt;&gt;&gt; np.set_printoptions(precision=4)
    &gt;&gt;&gt; np.array([1.123456789])
    [1.1235]
    
    Long arrays can be summarised:
    
    &gt;&gt;&gt; np.set_printoptions(threshold=5)
    &gt;&gt;&gt; np.arange(10)
    array([0, 1, 2, ..., 7, 8, 9])
    
    Small results can be suppressed:
    
    &gt;&gt;&gt; eps = np.finfo(float).eps
    &gt;&gt;&gt; x = np.arange(4.)
    &gt;&gt;&gt; x**2 - (x + eps)**2
    array([-4.9304e-32, -4.4409e-16,  0.0000e+00,  0.0000e+00])
    &gt;&gt;&gt; np.set_printoptions(suppress=True)
    &gt;&gt;&gt; x**2 - (x + eps)**2
    array([-0., -0.,  0.,  0.])
    
    A custom formatter can be used to display array elements as desired:
    
    &gt;&gt;&gt; np.set_printoptions(formatter={&#39;all&#39;:lambda x: &#39;int: &#39;+str(-x)})
    &gt;&gt;&gt; x = np.arange(3)
    &gt;&gt;&gt; x
    array([int: 0, int: -1, int: -2])
    &gt;&gt;&gt; np.set_printoptions()  # formatter gets reset
    &gt;&gt;&gt; x
    array([0, 1, 2])
    
    To put back the default options, you can use:
    
    &gt;&gt;&gt; np.set_printoptions(edgeitems=3, infstr=&#39;inf&#39;,
    ... linewidth=75, nanstr=&#39;nan&#39;, precision=8,
    ... suppress=False, threshold=1000, formatter=None)
    
    Also to temporarily override options, use `printoptions` as a context manager:
    
    &gt;&gt;&gt; with np.printoptions(precision=2, suppress=True, threshold=5):
    ...     np.linspace(0, 10, 10)
    array([ 0.  ,  1.11,  2.22, ...,  7.78,  8.89, 10.  ])
</pre></div>
</div>
</div>
</div>
<p>Here is a specific example.  The dictionary we pass has just one key in it, <code class="docutils literal notranslate"><span class="pre">'float'</span></code>.  The value is a function, and we write that function using a lambda function.  The input to the function will be a float, and the output of the function is supposed to be a string; in this case, the string should be how we want floats to be displayed.</p>
<p>Here is a first attempt specifying <code class="docutils literal notranslate"><span class="pre">formatter</span></code>.  We will use string formatting options to specify that we want 4 decimal places.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span> <span class="p">{</span><span class="s1">&#39;float&#39;</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<p>We are still specifying <code class="docutils literal notranslate"><span class="pre">seed=1</span></code>.  Notice how the initial value in the array, <code class="docutils literal notranslate"><span class="pre">3.45584192e-01</span></code> above, now gets displayed as a decimal number with four digits, <code class="docutils literal notranslate"><span class="pre">0.3456</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.3456, 0.8216, 0.3304, -1.3032, 0.9054, 0.4464, -0.5370, 0.5811,
       0.3646, 0.2941, 0.0284, 0.5467, -0.7365, -0.1629, -0.4821, 0.5988,
       0.0397, -0.2925, -0.7819, -0.2572, 0.0081, -0.2756, 1.2941, 1.0067,
       -2.7112, -1.8890, -0.1748, -0.4222, 0.2136, 0.2173, 2.1178,
       -1.1120, -0.3776, 2.0428, 0.6467, 0.6631, -0.5140, -1.6481, 0.1675,
       0.1090, -1.2274, -0.6832, -0.0720, -0.9448, -0.0983, 0.0955,
       0.0356, -0.5063, 0.5937, 0.8912, 0.3208, -0.8182, 0.7317, -0.5014,
       0.8792, -1.0718, 0.9145, -0.0201, -1.2487, -0.3139, 0.0541, 0.2728,
       -0.9822, -1.1074, 0.1996, -0.4667, 0.2355, 0.7595, -1.6488, 0.2544,
       1.2246, -0.2975, -0.8108, 0.7522, 0.2534, 0.8959, -0.3452, -1.4818,
       -0.1100, -0.4458, 0.7753, 0.1936, -1.6308, -1.1952, 0.8838, 0.6798,
       -0.6402, -0.0010, 0.4456, 0.4684, 0.8762, 0.2565, -0.0948, -0.2588,
       1.0557, -2.2509, -0.1387, 0.0330, -1.4253, 0.3328])
</pre></div>
</div>
</div>
</div>
<p>Let’s see some other ways to change this float formatting, so that the numbers get more nicely lined up.  (You should memorize how f-strings as a whole work, but don’t bother memorizing these specific string formatting options.)  In this particular case, we indicate that there should be a <code class="docutils literal notranslate"><span class="pre">+</span></code> sign used when the numbers are positive.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span> <span class="p">{</span><span class="s1">&#39;float&#39;</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">+.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<p>I like that the numbers are lined up in the following, but the <code class="docutils literal notranslate"><span class="pre">+</span></code> signs still look a little strange.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([+0.3456, +0.8216, +0.3304, -1.3032, +0.9054, +0.4464, -0.5370,
       +0.5811, +0.3646, +0.2941, +0.0284, +0.5467, -0.7365, -0.1629,
       -0.4821, +0.5988, +0.0397, -0.2925, -0.7819, -0.2572, +0.0081,
       -0.2756, +1.2941, +1.0067, -2.7112, -1.8890, -0.1748, -0.4222,
       +0.2136, +0.2173, +2.1178, -1.1120, -0.3776, +2.0428, +0.6467,
       +0.6631, -0.5140, -1.6481, +0.1675, +0.1090, -1.2274, -0.6832,
       -0.0720, -0.9448, -0.0983, +0.0955, +0.0356, -0.5063, +0.5937,
       +0.8912, +0.3208, -0.8182, +0.7317, -0.5014, +0.8792, -1.0718,
       +0.9145, -0.0201, -1.2487, -0.3139, +0.0541, +0.2728, -0.9822,
       -1.1074, +0.1996, -0.4667, +0.2355, +0.7595, -1.6488, +0.2544,
       +1.2246, -0.2975, -0.8108, +0.7522, +0.2534, +0.8959, -0.3452,
       -1.4818, -0.1100, -0.4458, +0.7753, +0.1936, -1.6308, -1.1952,
       +0.8838, +0.6798, -0.6402, -0.0010, +0.4456, +0.4684, +0.8762,
       +0.2565, -0.0948, -0.2588, +1.0557, -2.2509, -0.1387, +0.0330,
       -1.4253, +0.3328])
</pre></div>
</div>
</div>
</div>
<p>Another string formatting option is to leave a blank space when the number is positive.  I find this to be the version which is easiest to read.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span> <span class="p">{</span><span class="s1">&#39;float&#39;</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2"> .4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 0.3456,  0.8216,  0.3304, -1.3032,  0.9054,  0.4464, -0.5370,
        0.5811,  0.3646,  0.2941,  0.0284,  0.5467, -0.7365, -0.1629,
       -0.4821,  0.5988,  0.0397, -0.2925, -0.7819, -0.2572,  0.0081,
       -0.2756,  1.2941,  1.0067, -2.7112, -1.8890, -0.1748, -0.4222,
        0.2136,  0.2173,  2.1178, -1.1120, -0.3776,  2.0428,  0.6467,
        0.6631, -0.5140, -1.6481,  0.1675,  0.1090, -1.2274, -0.6832,
       -0.0720, -0.9448, -0.0983,  0.0955,  0.0356, -0.5063,  0.5937,
        0.8912,  0.3208, -0.8182,  0.7317, -0.5014,  0.8792, -1.0718,
        0.9145, -0.0201, -1.2487, -0.3139,  0.0541,  0.2728, -0.9822,
       -1.1074,  0.1996, -0.4667,  0.2355,  0.7595, -1.6488,  0.2544,
        1.2246, -0.2975, -0.8108,  0.7522,  0.2534,  0.8959, -0.3452,
       -1.4818, -0.1100, -0.4458,  0.7753,  0.1936, -1.6308, -1.1952,
        0.8838,  0.6798, -0.6402, -0.0010,  0.4456,  0.4684,  0.8762,
        0.2565, -0.0948, -0.2588,  1.0557, -2.2509, -0.1387,  0.0330,
       -1.4253,  0.3328])
</pre></div>
</div>
</div>
</div>
<p>There is definitely much more that we could learn involving “Pythonic” code; this has just been a quick introduction to some of the most important ways to make your code more Pythonic.  The three most important concepts introduced in this section were list comprehension, f-strings, and lambda functions.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Week3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Week3-Intro.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Week 3</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Matplotlib.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Matplotlib</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Christopher Davis<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>